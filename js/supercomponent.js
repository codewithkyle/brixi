var a=Object.defineProperty;var o=(d,e,t)=>e in d?a(d,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):d[e]=t;var s=(d,e,t)=>(o(d,typeof e!="symbol"?e+"":e,t),t);class h extends HTMLElement{constructor(){super();s(this,"model");s(this,"data");s(this,"state");s(this,"stateMachine");s(this,"debounce",(e,t)=>{let n=null;return(...i)=>{window.clearTimeout(n),n=window.setTimeout(()=>{e.apply(null,i)},t)}});s(this,"debounceRender",this.debounce(this.render.bind(this),80));s(this,"debounceUpdate",this.debounce(this.updated.bind(this),80));this.model={},this.data=this.model,this.state="INACTIVE",this.stateMachine={}}snapshot(){return{state:this.state,model:this.get()}}update(e,t=!1){this.set(e,t)}set(e,t=!1){this.model=Object.assign(this.model,e),this.data=this.model,t||this.debounceRender(),this.debounceUpdate()}get(){return{...this.model}}trigger(e){this.state=this.stateMachine?.[this.state]?.[e]??"ERROR",this.debounceRender(),this.debounceUpdate()}render(){}updated(){}connected(){}connectedCallback(){this.connected()}disconnected(){}disconnectedCallback(){this.disconnected()}}var l=h;export{l as default};
